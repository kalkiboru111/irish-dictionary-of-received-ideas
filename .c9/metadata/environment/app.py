{"changed":true,"filter":false,"title":"app.py","tooltip":"/app.py","value":"import os\nfrom flask import Flask, render_template, redirect, request, url_for\nfrom flask_pymongo import PyMongo\nfrom bson.objectid import ObjectId\n\napp = Flask(__name__)\n\napp.config['MONGO_DBNAME'] = 'irish_dictionary'\napp.config[\"MONGO_URI\"] = os.getenv(\"MONGO_URI\")\n\nmongo = PyMongo(app)\n\n@app.route('/')\n\n# View directs user to terms page\n@app.route('/get_terms')\ndef get_terms():\n    return render_template(\"terms.html\", \n    terms=mongo.db.terms.find())\n    \n\n@app.route('/add_term')\ndef add_term():\n    return render_template(\"add_term.html\", \n    categories=mongo.db.categories.find())\n\n@app.route('/insert_term', methods=['POST'])\ndef insert_term():\n    terms = mongo.db.terms\n    terms.insert_one(request.form.to_dict())\n    return redirect(url_for('get_terms'))\n    \n@app.route('/edit_term/<term_id>')\ndef edit_term(term_id):\n    the_term =  mongo.db.terms.find_one({\"_id\": ObjectId(term_id)})\n    all_categories =  mongo.db.categories.find()\n   \n   \n    print(mongo.db)\n    return render_template('edit_term.html', term=the_term,\n                           categories=all_categories)\n                           \n                           \n@app.route('/update_term/<term_id>', methods=['POST'])\ndef update_term(term_id):\n    terms = mongo.db.terms\n    terms.update( {\"_id\": ObjectId(term_id)},\n    {   'term_name':request.form.get('term_name'),\n        'category_name':request.form.get('category_name'),\n        'term_definition': request.form.get('term_definition'),\n        'term_origin':request.form.get('term_origin')\n    })\n    return redirect(url_for('get_terms'))\n\n@app.route('/delete_term/<term_id>')\ndef delete_term(term_id):\n    mongo.db.terms.remove({\"_id\": ObjectId(term_id)})\n    return redirect(url_for('get_terms'))\n\n@app.route('/get_categories')\ndef get_categories():\n    return render_template(\"categories.html\", \n    categories=mongo.db.categories.find())\n    \n@app.route('/edit_category/<category_id>')\ndef edit_category(category_id):\n    return render_template('editcategory.html',\n    category=mongo.db.categories.find_one(\n    {'_id': ObjectId(category_id)}))\n\n@app.route('/update_category/<category_id>', methods=['POST'])\ndef update_category(category_id):\n    mongo.db.categories.update(\n        {'_id': ObjectId(category_id)},\n        {'category_name': request.form.get('category_name')})\n    return redirect(url_for('get_categories'))\n\n@app.route('/delete__category/<category_id>')\ndef delete_category(category_id):\n    mongo.db.categories.remove(\n        {'_id': ObjectId(category_id)})\n    return redirect(url_for('get_categories'))\n    \n@app.route('/insert_category', methods=['POST'])\ndef insert_category():\n    category_doc = {'category_name': request.form.get('category_name')},\n    mongo.db.categories.insert_one(category_doc)\n    return redirect(url_for('get_categories'))\n\n@app.route('/add_category')\ndef add_category():\n    return render_template('addcategory.html')\n\n@app.route('/search')\ndef search(search_text):\n    results = mongo.db.terms.find({'definition':{'$regex':'.*' + search_text + '.*'}})\n    return render_template('search.html', results=results)\n\nif __name__ == '__main__':\n    app.run(host=os.environ.get('IP'),\n            port=int(os.environ.get('PORT')),\n            debug=True)","undoManager":{"mark":95,"position":100,"stack":[[{"start":{"row":95,"column":37},"end":{"row":95,"column":38},"action":"insert","lines":["'"],"id":178},{"start":{"row":95,"column":38},"end":{"row":95,"column":39},"action":"insert","lines":[":"]}],[{"start":{"row":95,"column":39},"end":{"row":95,"column":40},"action":"insert","lines":[" "],"id":179}],[{"start":{"row":95,"column":40},"end":{"row":95,"column":73},"action":"insert","lines":["request.form.get('category_name')"],"id":180}],[{"start":{"row":95,"column":58},"end":{"row":95,"column":66},"action":"remove","lines":["category"],"id":181},{"start":{"row":95,"column":58},"end":{"row":95,"column":59},"action":"insert","lines":["t"]},{"start":{"row":95,"column":59},"end":{"row":95,"column":60},"action":"insert","lines":["e"]},{"start":{"row":95,"column":60},"end":{"row":95,"column":61},"action":"insert","lines":["r"]},{"start":{"row":95,"column":61},"end":{"row":95,"column":62},"action":"insert","lines":["m"]}],[{"start":{"row":95,"column":12},"end":{"row":95,"column":13},"action":"insert","lines":["m"],"id":182},{"start":{"row":95,"column":13},"end":{"row":95,"column":14},"action":"insert","lines":["o"]},{"start":{"row":95,"column":14},"end":{"row":95,"column":15},"action":"insert","lines":["n"]},{"start":{"row":95,"column":15},"end":{"row":95,"column":16},"action":"insert","lines":["g"]},{"start":{"row":95,"column":16},"end":{"row":95,"column":17},"action":"insert","lines":["o"]},{"start":{"row":95,"column":17},"end":{"row":95,"column":18},"action":"insert","lines":["."]}],[{"start":{"row":95,"column":77},"end":{"row":96,"column":0},"action":"insert","lines":["",""],"id":183},{"start":{"row":96,"column":0},"end":{"row":96,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":96,"column":4},"end":{"row":96,"column":5},"action":"insert","lines":["p"],"id":184},{"start":{"row":96,"column":5},"end":{"row":96,"column":6},"action":"insert","lines":["r"]},{"start":{"row":96,"column":6},"end":{"row":96,"column":7},"action":"insert","lines":["i"]},{"start":{"row":96,"column":7},"end":{"row":96,"column":8},"action":"insert","lines":["n"]},{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"insert","lines":["t"]}],[{"start":{"row":96,"column":9},"end":{"row":96,"column":11},"action":"insert","lines":["()"],"id":185}],[{"start":{"row":96,"column":10},"end":{"row":96,"column":11},"action":"insert","lines":["T"],"id":186},{"start":{"row":96,"column":11},"end":{"row":96,"column":12},"action":"insert","lines":["e"]},{"start":{"row":96,"column":12},"end":{"row":96,"column":13},"action":"insert","lines":["r"]},{"start":{"row":96,"column":13},"end":{"row":96,"column":14},"action":"insert","lines":["m"]},{"start":{"row":96,"column":14},"end":{"row":96,"column":15},"action":"insert","lines":["s"]}],[{"start":{"row":96,"column":14},"end":{"row":96,"column":15},"action":"remove","lines":["s"],"id":187},{"start":{"row":96,"column":13},"end":{"row":96,"column":14},"action":"remove","lines":["m"]},{"start":{"row":96,"column":12},"end":{"row":96,"column":13},"action":"remove","lines":["r"]},{"start":{"row":96,"column":11},"end":{"row":96,"column":12},"action":"remove","lines":["e"]},{"start":{"row":96,"column":10},"end":{"row":96,"column":11},"action":"remove","lines":["T"]}],[{"start":{"row":96,"column":10},"end":{"row":96,"column":11},"action":"insert","lines":["t"],"id":188},{"start":{"row":96,"column":11},"end":{"row":96,"column":12},"action":"insert","lines":["e"]},{"start":{"row":96,"column":12},"end":{"row":96,"column":13},"action":"insert","lines":["r"]},{"start":{"row":96,"column":13},"end":{"row":96,"column":14},"action":"insert","lines":["m"]},{"start":{"row":96,"column":14},"end":{"row":96,"column":15},"action":"insert","lines":["s"]}],[{"start":{"row":93,"column":0},"end":{"row":96,"column":16},"action":"remove","lines":["@app.route('/search', methods=['POST'])","def search(terms):","    terms = mongo.db.terms.find({'term_name': request.form.get('term_name')})","    print(terms)"],"id":189},{"start":{"row":93,"column":0},"end":{"row":99,"column":58},"action":"insert","lines":["@app.route('/search')","def search():","    \"\"\"Route for search bar\"\"\"","    db_query = request.args['db_query']","    results = mongo.db.recipe.find({'$text': {'$search': db_query }}).sort('_id', pymongo.ASCENDING)","​","    return render_template('search.html', results=results)"]}],[{"start":{"row":98,"column":0},"end":{"row":98,"column":1},"action":"remove","lines":["​"],"id":190}],[{"start":{"row":97,"column":23},"end":{"row":97,"column":29},"action":"remove","lines":["recipe"],"id":191},{"start":{"row":97,"column":23},"end":{"row":97,"column":24},"action":"insert","lines":["t"]},{"start":{"row":97,"column":24},"end":{"row":97,"column":25},"action":"insert","lines":["e"]},{"start":{"row":97,"column":25},"end":{"row":97,"column":26},"action":"insert","lines":["r"]},{"start":{"row":97,"column":26},"end":{"row":97,"column":27},"action":"insert","lines":["m"]},{"start":{"row":97,"column":27},"end":{"row":97,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":97,"column":69},"end":{"row":97,"column":99},"action":"remove","lines":["sort('_id', pymongo.ASCENDING)"],"id":192},{"start":{"row":97,"column":68},"end":{"row":97,"column":69},"action":"remove","lines":["."]}],[{"start":{"row":97,"column":68},"end":{"row":98,"column":0},"action":"remove","lines":["",""],"id":193}],[{"start":{"row":97,"column":4},"end":{"row":97,"column":14},"action":"remove","lines":["results = "],"id":198}],[{"start":{"row":96,"column":5},"end":{"row":96,"column":39},"action":"remove","lines":["b_query = request.args['db_query']"],"id":199},{"start":{"row":96,"column":4},"end":{"row":96,"column":5},"action":"remove","lines":["d"]},{"start":{"row":96,"column":0},"end":{"row":96,"column":4},"action":"remove","lines":["    "]},{"start":{"row":95,"column":30},"end":{"row":96,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":95,"column":30},"end":{"row":96,"column":0},"action":"insert","lines":["",""],"id":200},{"start":{"row":96,"column":0},"end":{"row":96,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":96,"column":4},"end":{"row":96,"column":72},"action":"insert","lines":["category_doc = {'category_name': request.form.get('category_name')},"],"id":201}],[{"start":{"row":96,"column":4},"end":{"row":96,"column":16},"action":"remove","lines":["category_doc"],"id":202},{"start":{"row":96,"column":4},"end":{"row":96,"column":5},"action":"insert","lines":["s"]},{"start":{"row":96,"column":5},"end":{"row":96,"column":6},"action":"insert","lines":["e"]},{"start":{"row":96,"column":6},"end":{"row":96,"column":7},"action":"insert","lines":["a"]},{"start":{"row":96,"column":7},"end":{"row":96,"column":8},"action":"insert","lines":["r"]},{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"insert","lines":["c"]},{"start":{"row":96,"column":9},"end":{"row":96,"column":10},"action":"insert","lines":["h"]}],[{"start":{"row":96,"column":10},"end":{"row":96,"column":11},"action":"insert","lines":["_"],"id":203},{"start":{"row":96,"column":11},"end":{"row":96,"column":12},"action":"insert","lines":["t"]},{"start":{"row":96,"column":12},"end":{"row":96,"column":13},"action":"insert","lines":["e"]},{"start":{"row":96,"column":13},"end":{"row":96,"column":14},"action":"insert","lines":["r"]},{"start":{"row":96,"column":14},"end":{"row":96,"column":15},"action":"insert","lines":["m"]}],[{"start":{"row":96,"column":20},"end":{"row":96,"column":27},"action":"remove","lines":["categor"],"id":204}],[{"start":{"row":96,"column":20},"end":{"row":96,"column":21},"action":"remove","lines":["y"],"id":205}],[{"start":{"row":96,"column":20},"end":{"row":96,"column":21},"action":"insert","lines":["t"],"id":206},{"start":{"row":96,"column":21},"end":{"row":96,"column":22},"action":"insert","lines":["e"]},{"start":{"row":96,"column":22},"end":{"row":96,"column":23},"action":"insert","lines":["r"]},{"start":{"row":96,"column":23},"end":{"row":96,"column":24},"action":"insert","lines":["m"]}],[{"start":{"row":96,"column":50},"end":{"row":96,"column":58},"action":"remove","lines":["category"],"id":207},{"start":{"row":96,"column":50},"end":{"row":96,"column":51},"action":"insert","lines":["t"]},{"start":{"row":96,"column":51},"end":{"row":96,"column":52},"action":"insert","lines":["e"]},{"start":{"row":96,"column":52},"end":{"row":96,"column":53},"action":"insert","lines":["r"]},{"start":{"row":96,"column":53},"end":{"row":96,"column":54},"action":"insert","lines":["m"]}],[{"start":{"row":97,"column":45},"end":{"row":97,"column":54},"action":"remove","lines":[" db_query"],"id":208},{"start":{"row":97,"column":45},"end":{"row":97,"column":46},"action":"insert","lines":[" "]},{"start":{"row":97,"column":46},"end":{"row":97,"column":47},"action":"insert","lines":["s"]},{"start":{"row":97,"column":47},"end":{"row":97,"column":48},"action":"insert","lines":["e"]},{"start":{"row":97,"column":48},"end":{"row":97,"column":49},"action":"insert","lines":["a"]},{"start":{"row":97,"column":49},"end":{"row":97,"column":50},"action":"insert","lines":["r"]},{"start":{"row":97,"column":50},"end":{"row":97,"column":51},"action":"insert","lines":["c"]}],[{"start":{"row":97,"column":46},"end":{"row":97,"column":51},"action":"remove","lines":["searc"],"id":209},{"start":{"row":97,"column":46},"end":{"row":97,"column":57},"action":"insert","lines":["search_term"]}],[{"start":{"row":97,"column":45},"end":{"row":97,"column":46},"action":"remove","lines":[" "],"id":210}],[{"start":{"row":97,"column":45},"end":{"row":97,"column":46},"action":"insert","lines":[" "],"id":211}],[{"start":{"row":98,"column":42},"end":{"row":98,"column":57},"action":"remove","lines":["results=results"],"id":212},{"start":{"row":98,"column":42},"end":{"row":98,"column":43},"action":"insert","lines":["s"]},{"start":{"row":98,"column":43},"end":{"row":98,"column":44},"action":"insert","lines":["e"]},{"start":{"row":98,"column":44},"end":{"row":98,"column":45},"action":"insert","lines":["a"]},{"start":{"row":98,"column":45},"end":{"row":98,"column":46},"action":"insert","lines":["r"]},{"start":{"row":98,"column":46},"end":{"row":98,"column":47},"action":"insert","lines":["c"]},{"start":{"row":98,"column":47},"end":{"row":98,"column":48},"action":"insert","lines":["h"]}],[{"start":{"row":98,"column":42},"end":{"row":98,"column":48},"action":"remove","lines":["search"],"id":213},{"start":{"row":98,"column":42},"end":{"row":98,"column":53},"action":"insert","lines":["search_term"]}],[{"start":{"row":98,"column":53},"end":{"row":98,"column":54},"action":"insert","lines":["="],"id":214},{"start":{"row":98,"column":54},"end":{"row":98,"column":55},"action":"insert","lines":["s"]},{"start":{"row":98,"column":55},"end":{"row":98,"column":56},"action":"insert","lines":["e"]},{"start":{"row":98,"column":56},"end":{"row":98,"column":57},"action":"insert","lines":["a"]},{"start":{"row":98,"column":57},"end":{"row":98,"column":58},"action":"insert","lines":["r"]},{"start":{"row":98,"column":58},"end":{"row":98,"column":59},"action":"insert","lines":["c"]}],[{"start":{"row":98,"column":54},"end":{"row":98,"column":59},"action":"remove","lines":["searc"],"id":215},{"start":{"row":98,"column":54},"end":{"row":98,"column":65},"action":"insert","lines":["search_term"]}],[{"start":{"row":93,"column":0},"end":{"row":98,"column":66},"action":"remove","lines":["@app.route('/search')","def search():","    \"\"\"Route for search bar\"\"\"","    search_term = {'term_name': request.form.get('term_name')},","    mongo.db.terms.find({'$text': {'$search': search_term }})","    return render_template('search.html', search_term=search_term)"],"id":216},{"start":{"row":93,"column":0},"end":{"row":99,"column":58},"action":"insert","lines":["@app.route('/search')","def search():","    \"\"\"Route for search bar\"\"\"","    db_query = request.args['db_query']","    results = mongo.db.recipe.find({'$text': {'$search': db_query }}).sort('_id', pymongo.ASCENDING)","​","    return render_template('search.html', results=results)"]}],[{"start":{"row":98,"column":0},"end":{"row":98,"column":1},"action":"remove","lines":["​"],"id":217},{"start":{"row":97,"column":100},"end":{"row":98,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":97,"column":70},"end":{"row":97,"column":100},"action":"remove","lines":["sort('_id', pymongo.ASCENDING)"],"id":218},{"start":{"row":97,"column":69},"end":{"row":97,"column":70},"action":"remove","lines":["."]}],[{"start":{"row":96,"column":4},"end":{"row":96,"column":12},"action":"remove","lines":["db_query"],"id":219},{"start":{"row":96,"column":4},"end":{"row":96,"column":5},"action":"insert","lines":["t"]},{"start":{"row":96,"column":5},"end":{"row":96,"column":6},"action":"insert","lines":["e"]},{"start":{"row":96,"column":6},"end":{"row":96,"column":7},"action":"insert","lines":["r"]}],[{"start":{"row":96,"column":7},"end":{"row":96,"column":8},"action":"insert","lines":["m"],"id":220}],[{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"insert","lines":["s"],"id":221}],[{"start":{"row":96,"column":26},"end":{"row":96,"column":34},"action":"remove","lines":["db_query"],"id":222},{"start":{"row":96,"column":26},"end":{"row":96,"column":27},"action":"insert","lines":["t"]},{"start":{"row":96,"column":27},"end":{"row":96,"column":28},"action":"insert","lines":["e"]},{"start":{"row":96,"column":28},"end":{"row":96,"column":29},"action":"insert","lines":["r"]},{"start":{"row":96,"column":29},"end":{"row":96,"column":30},"action":"insert","lines":["m"]},{"start":{"row":96,"column":30},"end":{"row":96,"column":31},"action":"insert","lines":["s"]}],[{"start":{"row":97,"column":57},"end":{"row":97,"column":65},"action":"remove","lines":["db_query"],"id":223},{"start":{"row":97,"column":57},"end":{"row":97,"column":58},"action":"insert","lines":["t"]},{"start":{"row":97,"column":58},"end":{"row":97,"column":59},"action":"insert","lines":["e"]},{"start":{"row":97,"column":59},"end":{"row":97,"column":60},"action":"insert","lines":["r"]},{"start":{"row":97,"column":60},"end":{"row":97,"column":61},"action":"insert","lines":["m"]},{"start":{"row":97,"column":61},"end":{"row":97,"column":62},"action":"insert","lines":["s"]}],[{"start":{"row":96,"column":30},"end":{"row":96,"column":31},"action":"remove","lines":["s"],"id":224}],[{"start":{"row":96,"column":30},"end":{"row":96,"column":31},"action":"insert","lines":["_"],"id":225},{"start":{"row":96,"column":31},"end":{"row":96,"column":32},"action":"insert","lines":["n"]},{"start":{"row":96,"column":32},"end":{"row":96,"column":33},"action":"insert","lines":["a"]},{"start":{"row":96,"column":33},"end":{"row":96,"column":34},"action":"insert","lines":["m"]},{"start":{"row":96,"column":34},"end":{"row":96,"column":35},"action":"insert","lines":["e"]}],[{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"remove","lines":["s"],"id":226}],[{"start":{"row":96,"column":8},"end":{"row":96,"column":9},"action":"insert","lines":["_"],"id":227},{"start":{"row":96,"column":9},"end":{"row":96,"column":10},"action":"insert","lines":["n"]},{"start":{"row":96,"column":10},"end":{"row":96,"column":11},"action":"insert","lines":["a"]},{"start":{"row":96,"column":11},"end":{"row":96,"column":12},"action":"insert","lines":["m"]},{"start":{"row":96,"column":12},"end":{"row":96,"column":13},"action":"insert","lines":["e"]}],[{"start":{"row":97,"column":61},"end":{"row":97,"column":62},"action":"remove","lines":["s"],"id":228}],[{"start":{"row":97,"column":61},"end":{"row":97,"column":62},"action":"insert","lines":["_"],"id":229},{"start":{"row":97,"column":62},"end":{"row":97,"column":63},"action":"insert","lines":["n"]},{"start":{"row":97,"column":63},"end":{"row":97,"column":64},"action":"insert","lines":["a"]},{"start":{"row":97,"column":64},"end":{"row":97,"column":65},"action":"insert","lines":["m"]},{"start":{"row":97,"column":65},"end":{"row":97,"column":66},"action":"insert","lines":["e"]}],[{"start":{"row":93,"column":20},"end":{"row":93,"column":21},"action":"insert","lines":[","],"id":230}],[{"start":{"row":93,"column":21},"end":{"row":93,"column":22},"action":"insert","lines":[" "],"id":231}],[{"start":{"row":93,"column":22},"end":{"row":93,"column":40},"action":"insert","lines":[", methods=['POST']"],"id":232}],[{"start":{"row":93,"column":23},"end":{"row":93,"column":24},"action":"remove","lines":[" "],"id":233},{"start":{"row":93,"column":22},"end":{"row":93,"column":23},"action":"remove","lines":[","]}],[{"start":{"row":93,"column":20},"end":{"row":93,"column":38},"action":"remove","lines":[", methods=['POST']"],"id":234}],[{"start":{"row":96,"column":28},"end":{"row":96,"column":41},"action":"remove","lines":["['term_name']"],"id":235},{"start":{"row":96,"column":28},"end":{"row":96,"column":53},"action":"insert","lines":["form.get('category_name')"]}],[{"start":{"row":96,"column":24},"end":{"row":96,"column":28},"action":"remove","lines":["args"],"id":236}],[{"start":{"row":96,"column":34},"end":{"row":96,"column":41},"action":"remove","lines":["categor"],"id":237}],[{"start":{"row":96,"column":34},"end":{"row":96,"column":35},"action":"insert","lines":["t"],"id":238},{"start":{"row":96,"column":35},"end":{"row":96,"column":36},"action":"insert","lines":["e"]},{"start":{"row":96,"column":36},"end":{"row":96,"column":37},"action":"insert","lines":["r"]},{"start":{"row":96,"column":37},"end":{"row":96,"column":38},"action":"insert","lines":["m"]}],[{"start":{"row":96,"column":38},"end":{"row":96,"column":39},"action":"remove","lines":["y"],"id":239}],[{"start":{"row":94,"column":11},"end":{"row":94,"column":12},"action":"insert","lines":["s"],"id":240},{"start":{"row":94,"column":12},"end":{"row":94,"column":13},"action":"insert","lines":["e"]},{"start":{"row":94,"column":13},"end":{"row":94,"column":14},"action":"insert","lines":["a"]},{"start":{"row":94,"column":14},"end":{"row":94,"column":15},"action":"insert","lines":["r"]},{"start":{"row":94,"column":15},"end":{"row":94,"column":16},"action":"insert","lines":["c"]},{"start":{"row":94,"column":16},"end":{"row":94,"column":17},"action":"insert","lines":["h"]}],[{"start":{"row":96,"column":45},"end":{"row":97,"column":0},"action":"insert","lines":["",""],"id":241},{"start":{"row":97,"column":0},"end":{"row":97,"column":4},"action":"insert","lines":["    "]},{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"insert","lines":["i"]},{"start":{"row":97,"column":5},"end":{"row":97,"column":6},"action":"insert","lines":["f"]}],[{"start":{"row":97,"column":6},"end":{"row":97,"column":7},"action":"insert","lines":[" "],"id":242},{"start":{"row":97,"column":7},"end":{"row":97,"column":8},"action":"insert","lines":["s"]},{"start":{"row":97,"column":8},"end":{"row":97,"column":9},"action":"insert","lines":["e"]},{"start":{"row":97,"column":9},"end":{"row":97,"column":10},"action":"insert","lines":["a"]},{"start":{"row":97,"column":10},"end":{"row":97,"column":11},"action":"insert","lines":["r"]},{"start":{"row":97,"column":11},"end":{"row":97,"column":12},"action":"insert","lines":["c"]},{"start":{"row":97,"column":12},"end":{"row":97,"column":13},"action":"insert","lines":["h"]}],[{"start":{"row":97,"column":13},"end":{"row":97,"column":14},"action":"insert","lines":[" "],"id":243},{"start":{"row":97,"column":14},"end":{"row":97,"column":15},"action":"insert","lines":["="]},{"start":{"row":97,"column":15},"end":{"row":97,"column":16},"action":"insert","lines":["="]}],[{"start":{"row":97,"column":16},"end":{"row":97,"column":17},"action":"insert","lines":[" "],"id":244},{"start":{"row":97,"column":17},"end":{"row":97,"column":18},"action":"insert","lines":["t"]},{"start":{"row":97,"column":18},"end":{"row":97,"column":19},"action":"insert","lines":["e"]},{"start":{"row":97,"column":19},"end":{"row":97,"column":20},"action":"insert","lines":["r"]},{"start":{"row":97,"column":20},"end":{"row":97,"column":21},"action":"insert","lines":["m"]}],[{"start":{"row":97,"column":21},"end":{"row":97,"column":22},"action":"insert","lines":["_"],"id":245},{"start":{"row":97,"column":22},"end":{"row":97,"column":23},"action":"insert","lines":["n"]},{"start":{"row":97,"column":23},"end":{"row":97,"column":24},"action":"insert","lines":["a"]},{"start":{"row":97,"column":24},"end":{"row":97,"column":25},"action":"insert","lines":["m"]},{"start":{"row":97,"column":25},"end":{"row":97,"column":26},"action":"insert","lines":["e"]}],[{"start":{"row":97,"column":26},"end":{"row":97,"column":27},"action":"insert","lines":[":"],"id":246}],[{"start":{"row":97,"column":27},"end":{"row":98,"column":0},"action":"insert","lines":["",""],"id":247},{"start":{"row":98,"column":0},"end":{"row":98,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":97,"column":1},"end":{"row":97,"column":27},"action":"remove","lines":["   if search == term_name:"],"id":248}],[{"start":{"row":99,"column":0},"end":{"row":99,"column":1},"action":"remove","lines":[" "],"id":249},{"start":{"row":98,"column":8},"end":{"row":99,"column":0},"action":"remove","lines":["",""]},{"start":{"row":98,"column":4},"end":{"row":98,"column":8},"action":"remove","lines":["    "]},{"start":{"row":98,"column":0},"end":{"row":98,"column":4},"action":"remove","lines":["    "]},{"start":{"row":97,"column":1},"end":{"row":98,"column":0},"action":"remove","lines":["",""]},{"start":{"row":97,"column":0},"end":{"row":97,"column":1},"action":"remove","lines":[" "]}],[{"start":{"row":97,"column":0},"end":{"row":97,"column":4},"action":"insert","lines":["    "],"id":250}],[{"start":{"row":97,"column":6},"end":{"row":97,"column":7},"action":"remove","lines":[" "],"id":251},{"start":{"row":97,"column":5},"end":{"row":97,"column":6},"action":"remove","lines":[" "]},{"start":{"row":97,"column":4},"end":{"row":97,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":94,"column":11},"end":{"row":94,"column":17},"action":"remove","lines":["search"],"id":252},{"start":{"row":94,"column":11},"end":{"row":94,"column":12},"action":"insert","lines":["t"]},{"start":{"row":94,"column":12},"end":{"row":94,"column":13},"action":"insert","lines":["e"]},{"start":{"row":94,"column":13},"end":{"row":94,"column":14},"action":"insert","lines":["r"]},{"start":{"row":94,"column":14},"end":{"row":94,"column":15},"action":"insert","lines":["m"]},{"start":{"row":94,"column":15},"end":{"row":94,"column":16},"action":"insert","lines":["_"]},{"start":{"row":94,"column":16},"end":{"row":94,"column":17},"action":"insert","lines":["n"]},{"start":{"row":94,"column":17},"end":{"row":94,"column":18},"action":"insert","lines":["a"]},{"start":{"row":94,"column":18},"end":{"row":94,"column":19},"action":"insert","lines":["m"]},{"start":{"row":94,"column":19},"end":{"row":94,"column":20},"action":"insert","lines":["e"]}],[{"start":{"row":94,"column":11},"end":{"row":94,"column":20},"action":"remove","lines":["term_name"],"id":253}],[{"start":{"row":95,"column":0},"end":{"row":95,"column":30},"action":"remove","lines":["    \"\"\"Route for search bar\"\"\""],"id":254},{"start":{"row":94,"column":13},"end":{"row":95,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":96,"column":23},"end":{"row":96,"column":29},"action":"remove","lines":["recipe"],"id":255},{"start":{"row":96,"column":23},"end":{"row":96,"column":24},"action":"insert","lines":["t"]},{"start":{"row":96,"column":24},"end":{"row":96,"column":25},"action":"insert","lines":["e"]},{"start":{"row":96,"column":25},"end":{"row":96,"column":26},"action":"insert","lines":["r"]},{"start":{"row":96,"column":26},"end":{"row":96,"column":27},"action":"insert","lines":["m"]},{"start":{"row":96,"column":27},"end":{"row":96,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":96,"column":44},"end":{"row":96,"column":52},"action":"insert","lines":["ObjectId"],"id":256}],[{"start":{"row":96,"column":52},"end":{"row":96,"column":53},"action":"insert","lines":["("],"id":257}],[{"start":{"row":96,"column":76},"end":{"row":96,"column":77},"action":"insert","lines":[")"],"id":258}],[{"start":{"row":96,"column":44},"end":{"row":96,"column":52},"action":"remove","lines":["ObjectId"],"id":259}],[{"start":{"row":96,"column":44},"end":{"row":96,"column":45},"action":"remove","lines":["("],"id":260}],[{"start":{"row":96,"column":67},"end":{"row":96,"column":68},"action":"remove","lines":[")"],"id":261}],[{"start":{"row":96,"column":56},"end":{"row":96,"column":65},"action":"remove","lines":["term_name"],"id":262},{"start":{"row":96,"column":56},"end":{"row":96,"column":57},"action":"insert","lines":["s"]},{"start":{"row":96,"column":57},"end":{"row":96,"column":58},"action":"insert","lines":["e"]},{"start":{"row":96,"column":58},"end":{"row":96,"column":59},"action":"insert","lines":["a"]},{"start":{"row":96,"column":59},"end":{"row":96,"column":60},"action":"insert","lines":["r"]},{"start":{"row":96,"column":60},"end":{"row":96,"column":61},"action":"insert","lines":["h"]}],[{"start":{"row":96,"column":60},"end":{"row":96,"column":61},"action":"remove","lines":["h"],"id":263}],[{"start":{"row":96,"column":60},"end":{"row":96,"column":61},"action":"insert","lines":["c"],"id":264},{"start":{"row":96,"column":61},"end":{"row":96,"column":62},"action":"insert","lines":["h"]},{"start":{"row":96,"column":62},"end":{"row":96,"column":63},"action":"insert","lines":["_"]},{"start":{"row":96,"column":63},"end":{"row":96,"column":64},"action":"insert","lines":["t"]},{"start":{"row":96,"column":64},"end":{"row":96,"column":65},"action":"insert","lines":["e"]},{"start":{"row":96,"column":65},"end":{"row":96,"column":66},"action":"insert","lines":["x"]},{"start":{"row":96,"column":66},"end":{"row":96,"column":67},"action":"insert","lines":["t"]}],[{"start":{"row":95,"column":4},"end":{"row":96,"column":71},"action":"remove","lines":["term_name = request.form.get('term_name')","    results = mongo.db.terms.find({'$text': {'$search': search_text }})"],"id":265},{"start":{"row":95,"column":4},"end":{"row":95,"column":115},"action":"insert","lines":["results = db.activities.find({'description':{'$regex':'.*' + search_text + '.*'}},{ \"description\": 1,\"_id\":1 })"]}],[{"start":{"row":95,"column":17},"end":{"row":95,"column":27},"action":"remove","lines":["activities"],"id":266},{"start":{"row":95,"column":17},"end":{"row":95,"column":18},"action":"insert","lines":["t"]},{"start":{"row":95,"column":18},"end":{"row":95,"column":19},"action":"insert","lines":["e"]},{"start":{"row":95,"column":19},"end":{"row":95,"column":20},"action":"insert","lines":["r"]},{"start":{"row":95,"column":20},"end":{"row":95,"column":21},"action":"insert","lines":["m"]},{"start":{"row":95,"column":21},"end":{"row":95,"column":22},"action":"insert","lines":["s"]}],[{"start":{"row":95,"column":31},"end":{"row":95,"column":41},"action":"remove","lines":["escription"],"id":267},{"start":{"row":95,"column":31},"end":{"row":95,"column":32},"action":"insert","lines":["f"]},{"start":{"row":95,"column":32},"end":{"row":95,"column":33},"action":"insert","lines":["i"]}],[{"start":{"row":95,"column":32},"end":{"row":95,"column":33},"action":"remove","lines":["i"],"id":268},{"start":{"row":95,"column":31},"end":{"row":95,"column":32},"action":"remove","lines":["f"]}],[{"start":{"row":95,"column":31},"end":{"row":95,"column":32},"action":"insert","lines":["e"],"id":269},{"start":{"row":95,"column":32},"end":{"row":95,"column":33},"action":"insert","lines":["f"]},{"start":{"row":95,"column":33},"end":{"row":95,"column":34},"action":"insert","lines":["i"]},{"start":{"row":95,"column":34},"end":{"row":95,"column":35},"action":"insert","lines":["n"]},{"start":{"row":95,"column":35},"end":{"row":95,"column":36},"action":"insert","lines":["i"]},{"start":{"row":95,"column":36},"end":{"row":95,"column":37},"action":"insert","lines":["t"]},{"start":{"row":95,"column":37},"end":{"row":95,"column":38},"action":"insert","lines":["i"]},{"start":{"row":95,"column":38},"end":{"row":95,"column":39},"action":"insert","lines":["o"]},{"start":{"row":95,"column":39},"end":{"row":95,"column":40},"action":"insert","lines":["n"]}],[{"start":{"row":95,"column":79},"end":{"row":95,"column":108},"action":"remove","lines":[",{ \"description\": 1,\"_id\":1 }"],"id":270}],[{"start":{"row":94,"column":13},"end":{"row":95,"column":0},"action":"insert","lines":["",""],"id":271},{"start":{"row":95,"column":0},"end":{"row":95,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":95,"column":4},"end":{"row":95,"column":69},"action":"insert","lines":["results = db.activities.find({\"$text\": {\"$search\": search_text}})"],"id":272}],[{"start":{"row":95,"column":4},"end":{"row":95,"column":69},"action":"remove","lines":["results = db.activities.find({\"$text\": {\"$search\": search_text}})"],"id":273},{"start":{"row":95,"column":0},"end":{"row":95,"column":4},"action":"remove","lines":["    "]},{"start":{"row":94,"column":13},"end":{"row":95,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":95,"column":14},"end":{"row":95,"column":15},"action":"insert","lines":["m"],"id":274},{"start":{"row":95,"column":15},"end":{"row":95,"column":16},"action":"insert","lines":["o"]},{"start":{"row":95,"column":16},"end":{"row":95,"column":17},"action":"insert","lines":["n"]},{"start":{"row":95,"column":17},"end":{"row":95,"column":18},"action":"insert","lines":["g"]},{"start":{"row":95,"column":18},"end":{"row":95,"column":19},"action":"insert","lines":["o"]},{"start":{"row":95,"column":19},"end":{"row":95,"column":20},"action":"insert","lines":["."]}],[{"start":{"row":94,"column":11},"end":{"row":94,"column":12},"action":"insert","lines":["s"],"id":275},{"start":{"row":94,"column":12},"end":{"row":94,"column":13},"action":"insert","lines":["e"]},{"start":{"row":94,"column":13},"end":{"row":94,"column":14},"action":"insert","lines":["a"]},{"start":{"row":94,"column":14},"end":{"row":94,"column":15},"action":"insert","lines":["r"]},{"start":{"row":94,"column":15},"end":{"row":94,"column":16},"action":"insert","lines":["h"]}],[{"start":{"row":94,"column":15},"end":{"row":94,"column":16},"action":"remove","lines":["h"],"id":276}],[{"start":{"row":94,"column":15},"end":{"row":94,"column":16},"action":"insert","lines":["c"],"id":277},{"start":{"row":94,"column":16},"end":{"row":94,"column":17},"action":"insert","lines":["h"]},{"start":{"row":94,"column":17},"end":{"row":94,"column":18},"action":"insert","lines":["_"]},{"start":{"row":94,"column":18},"end":{"row":94,"column":19},"action":"insert","lines":["t"]},{"start":{"row":94,"column":19},"end":{"row":94,"column":20},"action":"insert","lines":["e"]},{"start":{"row":94,"column":20},"end":{"row":94,"column":21},"action":"insert","lines":["x"]},{"start":{"row":94,"column":21},"end":{"row":94,"column":22},"action":"insert","lines":["t"]}],[{"start":{"row":96,"column":11},"end":{"row":96,"column":12},"action":"insert","lines":["r"],"id":278},{"start":{"row":96,"column":12},"end":{"row":96,"column":13},"action":"insert","lines":["e"]},{"start":{"row":96,"column":13},"end":{"row":96,"column":14},"action":"insert","lines":["d"]},{"start":{"row":96,"column":14},"end":{"row":96,"column":15},"action":"insert","lines":["i"]},{"start":{"row":96,"column":15},"end":{"row":96,"column":16},"action":"insert","lines":["r"]},{"start":{"row":96,"column":16},"end":{"row":96,"column":17},"action":"insert","lines":["e"]},{"start":{"row":96,"column":17},"end":{"row":96,"column":18},"action":"insert","lines":["c"]},{"start":{"row":96,"column":18},"end":{"row":96,"column":19},"action":"insert","lines":["t"]},{"start":{"row":96,"column":19},"end":{"row":96,"column":20},"action":"insert","lines":["l"]}],[{"start":{"row":96,"column":20},"end":{"row":96,"column":21},"action":"insert","lines":["y"],"id":279}],[{"start":{"row":96,"column":21},"end":{"row":96,"column":22},"action":"insert","lines":[" "],"id":280}],[{"start":{"row":96,"column":21},"end":{"row":96,"column":22},"action":"remove","lines":[" "],"id":281},{"start":{"row":96,"column":20},"end":{"row":96,"column":21},"action":"remove","lines":["y"]},{"start":{"row":96,"column":19},"end":{"row":96,"column":20},"action":"remove","lines":["l"]}],[{"start":{"row":96,"column":18},"end":{"row":96,"column":19},"action":"remove","lines":["t"],"id":282},{"start":{"row":96,"column":17},"end":{"row":96,"column":18},"action":"remove","lines":["c"]},{"start":{"row":96,"column":16},"end":{"row":96,"column":17},"action":"remove","lines":["e"]},{"start":{"row":96,"column":15},"end":{"row":96,"column":16},"action":"remove","lines":["r"]},{"start":{"row":96,"column":14},"end":{"row":96,"column":15},"action":"remove","lines":["i"]},{"start":{"row":96,"column":13},"end":{"row":96,"column":14},"action":"remove","lines":["d"]},{"start":{"row":96,"column":12},"end":{"row":96,"column":13},"action":"remove","lines":["e"]},{"start":{"row":96,"column":11},"end":{"row":96,"column":12},"action":"remove","lines":["r"]}]]},"ace":{"folds":[],"scrolltop":1006,"scrollleft":0,"selection":{"start":{"row":95,"column":27},"end":{"row":95,"column":27},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":61,"state":"start","mode":"ace/mode/python"}},"timestamp":1565685801971}